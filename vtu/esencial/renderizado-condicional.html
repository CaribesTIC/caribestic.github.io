<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Renderizado Condicional | Vue(tdd)</title>
    <meta name="description" content="TDD con Vue 3.">
    <link rel="stylesheet" href="/vue-tdd/assets/style.c3210e46.css">
    <link rel="modulepreload" href="/vue-tdd/assets/app.74b39d42.js">
    <link rel="modulepreload" href="/vue-tdd/assets/vtu_esencial_renderizado-condicional.md.d321dba6.lean.js">
    
    <meta name="twitter:title" content="Renderizado Condicional | Vue(tdd)">
  <meta property="og:title" content="Renderizado Condicional | Vue(tdd)">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/vue-tdd/" aria-label="Vue(tdd), back to home" data-v-675d8756 data-v-cc01ef16><img class="logo" src="/vue-tdd/logo.png" alt="Logo" data-v-cc01ef16> Vue(tdd)</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/vue-tdd/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/vue-tdd/comenzar/tdd" data-v-b8818f8c>Guide <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/CaribesTIC/vue-tdd" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/vue-tdd/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/vue-tdd/comenzar/tdd" data-v-b8818f8c>Guide <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/CaribesTIC/vue-tdd" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Comenzar</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/comenzar/tdd">Desarrollo Dirigido por Pruebas</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/comenzar/pruebas-unitarias">Pruebas Unitarias</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Vitest</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vitest/porque-vitest">¿Por qué Vitest?</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vitest/entorno-de-prueba">Entorno de Prueba</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vitest/usando-comparadores">Usando Comparadores</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vitest/probando-codigo-asincrono">Probando Código Asíncrono</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vitest/configuracion-y-desmontaje">Configuración y Desmontaje</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vitest/funciones-simuladas">Funciones Simuladas</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vitest/un-ejemplo-asincrono">Un Ejemplo Asíncrono</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Vue Tests Utils</p><ul class="sidebar-links"><li class="sidebar-link"><p class="sidebar-link-item">Esencial</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/esencial/intro">¿Qué es Vue Test Utils?</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/esencial/entorno-de-prueba">Entorno de Prueba</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/esencial/un-curso-acelerado">Un Curso Acelerado</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/vue-tdd/vtu/esencial/renderizado-condicional">Renderizado Condicional</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#encontrar-elementos">Encontrar elementos</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#usando-get">Usando get()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#usando-find-y-exists">Usando find() y exists()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#uso-de-datos">Uso de datos</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#comprobacion-de-la-visibilidad-de-los-elementos">Comprobación de la visibilidad de los elementos</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#usando-isvisible">Usando isVisible()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#conclusion">Conclusión</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/esencial/manejo-de-eventos">Probando el Manejo de Eventos</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/esencial/formularios">Probando Formularios</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/esencial/pasando-datos-a-componentes">Pasando Datos a Componentes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/esencial/escribir-componentes-que-sean faciles-de-probar">Escribir componentes que sean fáciles de probar</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Vue Test Utils en-profundidad</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/vue-test-utils-en-profundidad/ranuras">Ranuras</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/vue-test-utils-en-profundidad/comportamiento-asincrono">Comportamiento Asíncrono</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/vue-test-utils-en-profundidad/solicitudes-http">Realizando Solicitudes HTTP</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/vue-test-utils-en-profundidad/transiciones">Transiciones</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/vue-test-utils-en-profundidad/instancia-de-componente">Instancia de Componente</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/vue-test-utils-en-profundidad/reusabilidad-y-composicion">Reusabilidad &amp; Composición</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/vue-test-utils-en-profundidad/probando-vuex">Probando Vuex</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/vue-test-utils-en-profundidad/un-poco-mas-sobre-vuex">Un poco más sobre Vuex</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/vue-test-utils-en-profundidad/probando-vue-router">Probando Vue Router</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/vue-test-utils-en-profundidad/probando-teleport">Probando Teleport</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtu/vue-test-utils-en-profundidad/talones-y-montaje-superficial">Talones y Montaje Superficial</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Vue Testing Handbook</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/renderizar-componentes">Renderizar Componentes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/probando-propiedades">Probando Propiedades</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/propiedades-calculadas">Propiedades Calculadas</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/simulando-la-entrada-del-usuario">Simulando la entrada del usuario</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/probando-eventos-emitidos">Probando Eventos Emitidos</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/simulando-objetos-globales">Simulando Objetos Globales</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/talonando-componentes">Talonando Componentes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/encontrando-elementos-y-componentes">Encontrando elementos y componentes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/probando-vuex">Probando Vuex</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/vuex-mutaciones">Vuex Mutaciones</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/vuex-acciones">Vuex Accciones</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/vuex-captadores">Vuex Captadores</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/probando-vuex-en-componentes">Probando Vuex en componentes - estados y captadores</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/probando-vuex-en-componentes-mutaciones-y-acciones">Probando Vuex en componentes - mutaciones y acciones</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/vue-router">Vue Router</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/api-de-composicion">API de Composición</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vth/reduciendo-repetitividad-en-las-pruebas">Reduciendo Repetitividad en las Pruebas</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Vue Testing Library</p><ul class="sidebar-links"><li class="sidebar-link"><p class="sidebar-link-item">Documentación</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtl/documentacion/intro">¿Qué es Testing Library?</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtl/documentacion/guias-de-principios">Guías de Principios</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtl/documentacion/intro-v">¿Qué es Vue Testing Library?</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtl/documentacion/ejemplos">Ejemplos</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Diseño Dirigido por Pruebas</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtl/ddp/intro">Introducción</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/vtl/ddp/patrones-para-probar-accesorios">Patrones para Probar Accesorios</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Pinia</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-tdd/pinia/probando-pinia">Probando Pinia</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="renderizado-condicional" tabindex="-1">Renderizado Condicional <a class="header-anchor" href="#renderizado-condicional" aria-hidden="true">#</a></h1><p>Vue Test Utils tiene una gama de funciones para renderizar y hacer afirmaciones sobre el estado de un componente, con el objetivo de verificar que se comporta correctamente. Este artículo explorará cómo representar componentes, así como también verificará que estén representando el contenido correctamente.</p><p>Este artículo también está disponible como un <a href="https://www.youtube.com/watch?v=T3CHtGgEFTs&amp;list=PLC2LZCNWKL9ahK1IoODqYxKu5aA9T5IOA&amp;index=15" target="_blank" rel="noopener noreferrer">video corto</a>.</p><h2 id="encontrar-elementos" tabindex="-1">Encontrar elementos <a class="header-anchor" href="#encontrar-elementos" aria-hidden="true">#</a></h2><p>Una de las características más básicas de Vue es la capacidad de insertar y eliminar elementos dinámicamente con <code>v-if</code>. Veamos cómo probar un componente que usa <code>v-if</code>.</p><div class="language-js"><pre><code><span class="token keyword">const</span> Nav <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;nav&gt;
      &lt;a id=&quot;profile&quot; href=&quot;/profile&quot;&gt;My Profile&lt;/a&gt;
      &lt;a v-if=&quot;admin&quot; id=&quot;admin&quot; href=&quot;/admin&quot;&gt;Admin&lt;/a&gt;
    &lt;/nav&gt;
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">admin</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>En el componente <code>&lt;Nav&gt;</code>, se muestra un enlace al perfil del usuario. Además, si el valor de <code>admin</code> es <code>true</code>, revelamos un enlace a la sección de administración. Hay tres escenarios que debemos verificar se están comportando correctamente:</p><ol><li>Debe mostrarse el enlace <code>/profile</code>.</li><li>Cuando el usuario es administrador, se debe mostrar el enlace <code>/admin</code>.</li><li>Cuando el usuario no es administrador, no se debe mostrar el enlace <code>/admin</code>.</li></ol><h2 id="usando-get" tabindex="-1">Usando get() <a class="header-anchor" href="#usando-get" aria-hidden="true">#</a></h2><p><code>wrapper</code> tiene un método <code>get()</code> que busca un elemento existente. Utiliza la sintaxis de <code>querySelector</code>.</p><p>Podemos afirmar el contenido del enlace del perfil usando <code>get()</code>:</p><div class="language-js"><pre><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;renders a profile link&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">mount</span><span class="token punctuation">(</span>Nav<span class="token punctuation">)</span>

  <span class="token comment">// Here we are implicitly asserting that the</span>
  <span class="token comment">// element #profile exists.</span>
  <span class="token keyword">const</span> profileLink <span class="token operator">=</span> wrapper<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;#profile&#39;</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>profileLink<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token string">&#39;My Profile&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Si <code>get()</code> no devuelve un elemento que coincida con el selector, generará un error y su prueba fallará. <code>get()</code> devuelve un <code>DOMWrapper</code> si se encuentra un elemento. Un <code>DOMWrapper</code> es un contenedor delgado alrededor del elemento DOM que implementa la <a href="https://test-utils.vuejs.org/api/#wrapper-methods" target="_blank" rel="noopener noreferrer">API Wrapper</a> - es por eso que podemos hacer <code>profileLink.text()</code> y acceder al texto. Puede acceder al elemento sin procesar usando la propiedad de <code>element</code>.</p><p>Hay otro tipo de contenedor - un <code>VueWrapper</code> - que se devuelve desde <a href="https://test-utils.vuejs.org/api/#getcomponent" target="_blank" rel="noopener noreferrer"><code>getComponent</code></a> que funciona de la misma manera.</p><h2 id="usando-find-y-exists" tabindex="-1">Usando find() y exists() <a class="header-anchor" href="#usando-find-y-exists" aria-hidden="true">#</a></h2><p><code>get()</code> funciona asumiendo que los elementos existen y arroja un error cuando no es así. No se recomienda usarlo para afirmar existencia.</p><p>Para hacerlo, usamos <code>find()</code> y <code>exist()</code>. La siguiente prueba afirma que si <code>admin</code> es <code>false</code> (que es por defecto), el enlace de administración no está presente:</p><div class="language-js"><pre><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;does not render an admin link&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">mount</span><span class="token punctuation">(</span>Nav<span class="token punctuation">)</span>

  <span class="token comment">// Using `wrapper.get` would throw and make the test fail.</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&#39;#admin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Tenga en cuenta que estamos llamando a <code>exist()</code> en el valor devuelto por <code>.find()</code>. <code>find()</code>, como <code>mount()</code>, también devuelve un <code>wrapper</code>. <code>mount()</code> tiene algunos métodos adicionales, porque está envolviendo un componente Vue, y <code>find()</code> solo devuelve un nodo DOM regular, pero muchos de los métodos se comparten entre ambos. Algunos otros métodos incluyen <code>classes()</code>, que obtiene las clases que tiene un nodo DOM, y <code>trigger()</code> para simular la interacción del usuario. Puede encontrar una lista de métodos admitidos <a href="https://test-utils.vuejs.org/api/#wrapper-methods" target="_blank" rel="noopener noreferrer">aquí</a>.</p><h2 id="uso-de-datos" tabindex="-1">Uso de datos <a class="header-anchor" href="#uso-de-datos" aria-hidden="true">#</a></h2><p>La prueba final es afirmar que el enlace de administración se representa cuando <code>admin</code> es <code>true</code>. Es <code>false</code> por defecto, pero podemos anularlo usando el segundo argumento de <code>mount()</code>, las <a href="https://test-utils.vuejs.org/api/" target="_blank" rel="noopener noreferrer">opciones de montaje</a>.</p><p>Para <code>data</code>, usamos la opción de <code>data</code> con el nombre apropiado:</p><div class="language-js"><pre><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;renders an admin link&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">mount</span><span class="token punctuation">(</span>Nav<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">admin</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&#39;#admin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token comment">// Again, by using `get()` we are implicitly asserting that</span>
  <span class="token comment">// the element exists.</span>
  
  <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;#admin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token string">&#39;Admin&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Si tiene otras propiedades en <code>data</code> - no se preocupe: Vue Test Utils fusionará las dos. La <code>data</code> de las opciones de montaje tendrán prioridad sobre los valores predeterminados.</p><p>Para saber qué otras opciones de montaje existen, consulte <a href="./../esencial/pasando-datos-a-componentes.html">Pasando Datos</a> o consulte las <a href="https://test-utils.vuejs.org/api/" target="_blank" rel="noopener noreferrer">opciones de montaje</a>.</p><h2 id="comprobacion-de-la-visibilidad-de-los-elementos" tabindex="-1">Comprobación de la visibilidad de los elementos <a class="header-anchor" href="#comprobacion-de-la-visibilidad-de-los-elementos" aria-hidden="true">#</a></h2><p>A veces, solo desea ocultar/mostrar un elemento mientras lo mantiene en el DOM. Vue ofrece <code>v-show</code> para escenarios como tales. (Puedes comprobar las diferencias entre <code>v-if</code> y <code>v-show</code> <a href="https://vuejs.org/guide/essentials/conditional.html#v-if-vs-v-show" target="_blank" rel="noopener noreferrer">aquí</a>.</p><p>Así es como se ve un componente con <code>v-show</code>:</p><div class="language-js"><pre><code><span class="token keyword">const</span> Nav <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;nav&gt;
      &lt;a id=&quot;user&quot; href=&quot;/profile&quot;&gt;My Profile&lt;/a&gt;
      &lt;ul v-show=&quot;shouldShowDropdown&quot; id=&quot;user-dropdown&quot;&gt;
        &lt;!-- dropdown content --&gt;
      &lt;/ul&gt;
    &lt;/nav&gt;
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">shouldShowDropdown</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>En este escenario, el elemento no está visible pero siempre se representa. <code>get()</code> o <code>find()</code> siempre devolverán un Wrapper – <code>find()</code> con <code>.exists()</code> siempre devolverá <code>true</code> – porque el <strong>elemento aún está en el DOM</strong>.</p><h2 id="usando-isvisible" tabindex="-1">Usando isVisible() <a class="header-anchor" href="#usando-isvisible" aria-hidden="true">#</a></h2><p><code>isVisible()</code> brinda la capacidad de verificar elementos ocultos. En particular, <code>isVisible()</code> verificará si:</p><ul><li>un elemento o sus ancestros tienen estilos <code>display: none</code>, <code>visibility: hidden</code>, <code>opacity :0</code></li><li>un elemento o sus ancestros se encuentran dentro de la etiqueta <code>&lt;details&gt;</code> colapsada</li><li>un elemento o sus ancestros tienen el atributo <code>hidden</code></li></ul><p>Para cualquiera de estos casos, <code>isVisible()</code> devuelve <code>false</code>.</p><p>Los escenarios de prueba usando <code>v-show</code> se verán así:</p><div class="language-js"><pre><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;does not show the user dropdown&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">mount</span><span class="token punctuation">(</span>Nav<span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;#user-dropdown&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;does show the user dropdown&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">mount</span><span class="token punctuation">(</span>Nav<span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">shouldShowDropdown</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;#user-dropdown&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="conclusion" tabindex="-1">Conclusión <a class="header-anchor" href="#conclusion" aria-hidden="true">#</a></h2><ul><li>Usa <code>find()</code> junto con <code>exist()</code> para verificar si un elemento está en el DOM.</li><li>Use <code>get()</code> si espera que el elemento esté en el DOM.</li><li>La opción de montaje <code>data</code> se puede utilizar para establecer valores predeterminados en un componente.</li><li>Usa <code>get()</code> con <code>isVisible()</code> para verificar la visibilidad de un elemento que está en el DOM</li></ul></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-07c132fc><div class="edit" data-v-07c132fc><div class="edit-link" data-v-07c132fc data-v-1ed99556><!----></div></div><div class="updated" data-v-07c132fc><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/vue-tdd/vtu/esencial/un-curso-acelerado" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>Un Curso Acelerado</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/vue-tdd/vtu/esencial/manejo-de-eventos" data-v-38ede35f><span class="text" data-v-38ede35f>Probando el Manejo de Eventos</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"comenzar_pruebas-unitarias.md\":\"f33bc3b0\",\"comenzar_tdd.md\":\"9a657c35\",\"index.md\":\"e871bb97\",\"pinia_probando-pinia.md\":\"841a258b\",\"vitest_configuracion-y-desmontaje.md\":\"cfd2726c\",\"vitest_entorno-de-prueba.md\":\"ad31ca69\",\"vitest_funciones-simuladas.md\":\"ab413155\",\"vitest_porque-vitest.md\":\"aaac1774\",\"vitest_probando-codigo-asincrono.md\":\"100c2f7f\",\"vitest_un-ejemplo-asincrono.md\":\"7ff86b28\",\"vitest_usando-comparadores.md\":\"83c3694d\",\"vth_api-de-composicion.md\":\"7a71c535\",\"vth_encontrando-elementos-y-componentes.md\":\"1dac6c80\",\"vth_probando-eventos-emitidos.md\":\"443d5dbe\",\"vth_probando-propiedades.md\":\"8e8fc281\",\"vth_probando-vuex-en-componentes-mutaciones-y-acciones.md\":\"d24ea76c\",\"vth_probando-vuex-en-componentes.md\":\"40045ae5\",\"vth_probando-vuex.md\":\"07bcd3e5\",\"vth_propiedades-calculadas.md\":\"112ae118\",\"vth_reduciendo-repetitividad-en-las-pruebas.md\":\"8e6300e3\",\"vth_renderizar-componentes.md\":\"43d948f1\",\"vth_simulando-la-entrada-del-usuario.md\":\"eb260025\",\"vth_simulando-objetos-globales.md\":\"c08500a3\",\"vth_talonando-componentes.md\":\"2908ebf8\",\"vth_vue-router.md\":\"ab2abcac\",\"vth_vuex-acciones.md\":\"b8f5c4fe\",\"vth_vuex-captadores.md\":\"831168c4\",\"vth_vuex-mutaciones.md\":\"069026a3\",\"vtl_ddp_intro.md\":\"f6d7df54\",\"vtl_ddp_patrones-para-probar-accesorios.md\":\"ea8210f2\",\"vtl_documentacion_ejemplos.md\":\"e2c72fe1\",\"vtl_documentacion_guias-de-principios.md\":\"99a19fea\",\"vtl_documentacion_intro-v.md\":\"4ae4a89c\",\"vtl_documentacion_intro.md\":\"9bd5f2ab\",\"vtu_esencial_entorno-de-prueba.md\":\"115da4ac\",\"vtu_esencial_escribir-componentes-que-sean faciles-de-probar.md\":\"774cba01\",\"vtu_esencial_formularios.md\":\"10a89c68\",\"vtu_esencial_intro.md\":\"1f01c25b\",\"vtu_esencial_manejo-de-eventos.md\":\"df58ad73\",\"vtu_esencial_pasando-datos-a-componentes.md\":\"7b26545c\",\"vtu_esencial_renderizado-condicional.md\":\"d321dba6\",\"vtu_esencial_un-curso-acelerado.md\":\"df2e0e3a\",\"vtu_vue-test-utils-en-profundidad_comportamiento-asincrono.md\":\"bf016f64\",\"vtu_vue-test-utils-en-profundidad_instancia-de-componente.md\":\"cc8fa293\",\"vtu_vue-test-utils-en-profundidad_probando-teleport.md\":\"65790c61\",\"vtu_vue-test-utils-en-profundidad_probando-vue-router.md\":\"e79745e1\",\"vtu_vue-test-utils-en-profundidad_probando-vuex.md\":\"33372a72\",\"vtu_vue-test-utils-en-profundidad_ranuras.md\":\"a31c1ce0\",\"vtu_vue-test-utils-en-profundidad_reusabilidad-y-composicion.md\":\"ddc32b74\",\"vtu_vue-test-utils-en-profundidad_solicitudes-http.md\":\"d4f5245b\",\"vtu_vue-test-utils-en-profundidad_talones-y-montaje-superficial.md\":\"225a6229\",\"vtu_vue-test-utils-en-profundidad_transiciones.md\":\"9a64c06f\",\"vtu_vue-test-utils-en-profundidad_un-poco-mas-sobre-vuex.md\":\"9126af53\"}")</script>
    <script type="module" async src="/vue-tdd/assets/app.74b39d42.js"></script>
    
  </body>
</html>